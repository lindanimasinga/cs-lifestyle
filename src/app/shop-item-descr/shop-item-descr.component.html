<div class="">
<div class="mt-3 d-flex justify-content-sm-center justify-content-md-start">
    <div class="page-header h5">{{shopItem?.name}}</div>
</div>
<div class="mt-3 row d-flex justify-content-center">

    <div class="col-md-6 d-flex justify-content-center justify-content-md-start mb-3">
        <div class="d-inline-flex">
            <span class="item-descr mr-md-1">
                <div *ngFor="let img of shopItem?.images" class="mb-1" (click)="imageSelected = img">
                    <img class="shadow-sm rounded thumbnail" [src]="img">
                </div>
            </span>
            <div class="rounded">
                <img *ngIf="imageSelected" class="selected-image col rounded" [src]="imageSelected">
            </div>
        </div>
        
    </div>

    <div class="col-md-6">

        <div class="product row">
            <div class="col-6 product h5 ">Price</div>
            <div class="col-6 product h5 price">{{shopItem?.price * quantity | currency:'R'}}</div>
        </div>

        <div class="mb-3">{{shopItem?.description}}</div>

        <div *ngFor="let option of shopItem?.mandatorySelection" class="row">
            <div class="col-6 product h5 mt-3">{{option.name}}</div>
            <div class="col-6 mt-3">
                <select [(ngModel)]="option.selected" class="custom-select d-block w-100" id="country" required>
                    <option value="">Choose...</option>
                    <option [value]="choice" *ngFor="let choice of option.values">{{choice}}</option>
                </select>
                <div class="invalid-feedback">
                    Please select a valid {{option.name}}.
                </div>
            </div>
        </div>
    
        <div class="d-flex justify-content-between align-items-center mt-3">
            <button type="button" class="btn btn-sm btn-light" (click)="decreaseQuantity()">-</button>
            <div class="col-6 mt-3">
                <input type="number" [(ngModel)]="quantity" class="form-control" min="1" max="100" required>
                <div class="invalid-feedback">
                    Please select a valid quantity.
                </div>
            </div>
            <button type="button" class="btn btn-sm btn-light" (click)="increaseQuantity()">+</button>
        </div>
        <div class="d-flex justify-content-between mt-3 mb-3">
            <button class="btn btn-lg btn-block bg-dark  shadow-sm mr-1" (click)="addToCart()" [disabled]="!hasValidSeletion()">
                Add to Cart
            </button>
            <button type="button" class="btn bg-dark" (click)="addToShoppingList()" id="addToListButton">
                <div class="d-flex flex-column align-items-center text-white">
                    <mat-icon class="example-tab-icon">favorite</mat-icon>
                    <div class="menu_label">Favorites</div>
                </div>
            </button>
        </div>

    </div>
</div>

<div *ngIf="shopItem.detailedDescription" class="mt-3">
    <div class="product h5 mb-3">Description</div>
    <div>{{shopItem.detailedDescription}}</div>
</div>

<div class="mt-5">
    <app-other-items></app-other-items>
</div>

  </div>